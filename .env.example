# Database (Docker Compose service name: postgres)
DATABASE_URL=postgresql://dyn365hunter:password123@postgres:5432/dyn365hunter
POSTGRES_USER=dyn365hunter
POSTGRES_PASSWORD=password123
POSTGRES_DB=dyn365hunter

# Redis
REDIS_URL=redis://redis:6379/0

# FastAPI
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO

# Development
ENVIRONMENT=development

# IP Enrichment (Feature flag: disabled by default)
# For Docker: Set HUNTER_ENRICHMENT_ENABLED=true and configure DB paths below
# DB files should be placed in: app/data/maxmind/, app/data/ip2location/, app/data/ip2proxy/
# HUNTER_ENRICHMENT_ENABLED=false

# Partner Center Integration (Feature flag: disabled by default - MVP safe)
# NOTE: Partner Center Referrals API only supports delegated permissions (user_impersonation)
# Application permissions (Referrals.Read/ReadWrite) do NOT exist for this API
# We use MSAL + Device Code Flow (MFA compatible, Microsoft recommended approach)
# 
# MVP NOTE: This feature is code-complete but disabled by default. It does NOT affect MVP Go/No-Go criteria.
# To enable: Set HUNTER_PARTNER_CENTER_ENABLED=true and configure credentials below.
# Manual sync: docker-compose exec api python -m scripts.sync_partner_center
#
HUNTER_PARTNER_CENTER_ENABLED=false
HUNTER_PARTNER_CENTER_CLIENT_ID=
HUNTER_PARTNER_CENTER_CLIENT_SECRET=
HUNTER_PARTNER_CENTER_TENANT_ID=
HUNTER_PARTNER_CENTER_API_URL=https://api.partner.microsoft.com
# MSAL + Device Code Flow (delegated permissions - application permissions not available):
HUNTER_PARTNER_CENTER_SCOPE=https://api.partner.microsoft.com/.default
HUNTER_PARTNER_CENTER_TOKEN_CACHE_PATH=.token_cache  # Optional, defaults to .token_cache

# MaxMind GeoIP Databases
# Place files in: app/data/maxmind/ (host) -> /app/app/data/maxmind/ (container)
# For Docker: Paths are relative to container /app/app/ directory
MAXMIND_CITY_DB=app/data/maxmind/GeoLite2-City.mmdb
MAXMIND_COUNTRY_DB=app/data/maxmind/GeoLite2-Country.mmdb
# MAXMIND_ASN_DB=app/data/maxmind/GeoLite2-ASN.mmdb  # Optional - only add if you use ASN database

# IP2Location & IP2Proxy
# Place files in: app/data/ip2location/ and app/data/ip2proxy/ (host) -> /app/app/data/... (container)
# For Docker: Paths are relative to container /app/app/ directory
IP2LOCATION_DB=app/data/ip2location/IP2LOCATION-LITE-DB11.BIN
IP2PROXY_DB=app/data/ip2proxy/IP2PROXY-LITE-PX11.BIN

# Legacy format (still supported for backward compatibility)
# HUNTER_ENRICHMENT_DB_PATH_MAXMIND_ASN=/app/data/maxmind/GeoLite2-ASN.mmdb
# HUNTER_ENRICHMENT_DB_PATH_MAXMIND_CITY=/app/data/maxmind/GeoLite2-City.mmdb
# HUNTER_ENRICHMENT_DB_PATH_IP2LOCATION=/app/data/ip2location/IP2LOCATION-LITE-DB11.BIN
# HUNTER_ENRICHMENT_DB_PATH_IP2PROXY=/app/data/ip2proxy/IP2PROXY-LITE-PX11.BIN
